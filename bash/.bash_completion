oldglobstar=$(shopt -p globstar)
shopt -s globstar

[ -f ~/.bash_completion.local ] && . ~/.bash_completion.local

if [ -d ~/.bash_completion.d/ ]; then
  for file in ~/.bash_completion.d/**/*.sh; do
    [ -r "$file" ] && . "$file"
  done
fi

# Restore `globstar` option.
eval "$oldglobstar"
